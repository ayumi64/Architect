# FastAPI åº”ç”¨åŠŸèƒ½è¯´æ˜

## ğŸ‰ ç‰ˆæœ¬ 2.0.0 æ–°å¢åŠŸèƒ½

### âœ… å·²å®ç°çš„åŠŸèƒ½

#### 1. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- **ç”¨æˆ·æ³¨å†Œ** (`POST /auth/register`)
- **ç”¨æˆ·ç™»å½•** (`POST /auth/login`)
- **è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯** (`GET /auth/me`)
- Token è®¤è¯æœºåˆ¶
- å¯†ç å“ˆå¸Œå­˜å‚¨

#### 2. æ•°æ®åº“æ“ä½œï¼ˆSQLiteï¼‰
- è‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“
- ç”¨æˆ·è¡¨ï¼ˆusersï¼‰
- é¡¹ç›®è¡¨ï¼ˆitemsï¼‰
- å®Œæ•´çš„ CRUD æ“ä½œ

#### 3. é¡¹ç›®ç®¡ç†ç³»ç»Ÿ
- **åˆ—è¡¨æŸ¥è¯¢** (`GET /items/`) - æ”¯æŒåˆ†é¡µå’Œæœç´¢
- **è·å–å•ä¸ªé¡¹ç›®** (`GET /items/{item_id}`)
- **åˆ›å»ºé¡¹ç›®** (`POST /items/`) - éœ€è¦è®¤è¯
- **æ›´æ–°é¡¹ç›®** (`PUT /items/{item_id}`) - éœ€è¦è®¤è¯
- **åˆ é™¤é¡¹ç›®** (`DELETE /items/{item_id}`) - éœ€è¦è®¤è¯

#### 4. æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- **ä¸Šä¼ æ–‡ä»¶** (`POST /upload/`)
- **åˆ—å‡ºæ–‡ä»¶** (`GET /files/`)
- **ä¸‹è½½æ–‡ä»¶** (`GET /files/{filename}`)
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰

#### 5. ä¸­é—´ä»¶å’Œé”™è¯¯å¤„ç†
- CORS æ”¯æŒ
- è‡ªå®šä¹‰é”™è¯¯å¤„ç†
- 404/500 é”™è¯¯å¤„ç†

#### 6. åˆ†é¡µå’ŒæŸ¥è¯¢
- æ”¯æŒ `skip` å’Œ `limit` å‚æ•°
- æ”¯æŒæœç´¢å…³é”®è¯
- å‚æ•°éªŒè¯

## ğŸ“‹ API ç«¯ç‚¹åˆ—è¡¨

### åŸºç¡€ç«¯ç‚¹

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | è®¤è¯ |
|------|------|------|------|
| GET | `/` | æ¬¢è¿ä¿¡æ¯ | âŒ |
| GET | `/health` | å¥åº·æ£€æŸ¥ | âŒ |
| GET | `/info` | ç³»ç»Ÿä¿¡æ¯ | âŒ |
| GET | `/docs` | Swagger æ–‡æ¡£ | âŒ |

### ç”¨æˆ·è®¤è¯

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | è®¤è¯ |
|------|------|------|------|
| POST | `/auth/register` | ç”¨æˆ·æ³¨å†Œ | âŒ |
| POST | `/auth/login` | ç”¨æˆ·ç™»å½• | âŒ |
| GET | `/auth/me` | è·å–å½“å‰ç”¨æˆ· | âœ… |

### é¡¹ç›®ç®¡ç†

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | è®¤è¯ |
|------|------|------|------|
| GET | `/items/` | è·å–é¡¹ç›®åˆ—è¡¨ï¼ˆåˆ†é¡µ+æœç´¢ï¼‰ | âŒ |
| GET | `/items/{item_id}` | è·å–å•ä¸ªé¡¹ç›® | âŒ |
| POST | `/items/` | åˆ›å»ºé¡¹ç›® | âœ… |
| PUT | `/items/{item_id}` | æ›´æ–°é¡¹ç›® | âœ… |
| DELETE | `/items/{item_id}` | åˆ é™¤é¡¹ç›® | âœ… |

### æ–‡ä»¶ç®¡ç†

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | è®¤è¯ |
|------|------|------|------|
| POST | `/upload/` | ä¸Šä¼ æ–‡ä»¶ | âŒ |
| GET | `/files/` | åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ | âŒ |
| GET | `/files/{filename}` | ä¸‹è½½æ–‡ä»¶ | âŒ |

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### 1. ç”¨æˆ·æ³¨å†Œ

```bash
curl -X POST http://localhost:8000/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "test123"
  }'
```

### 2. ç”¨æˆ·ç™»å½•

```bash
curl -X POST http://localhost:8000/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "test123"
  }'
```

å“åº”ï¼š
```json
{
  "access_token": "xxx...",
  "token_type": "bearer"
}
```

### 3. åˆ›å»ºé¡¹ç›®ï¼ˆéœ€è¦è®¤è¯ï¼‰

```bash
curl -X POST http://localhost:8000/items/ \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "name": "æµ‹è¯•é¡¹ç›®",
    "description": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é¡¹ç›®",
    "price": 99.99,
    "tax": 10.0
  }'
```

### 4. è·å–é¡¹ç›®åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰

```bash
# è·å–ç¬¬ä¸€é¡µï¼Œæ¯é¡µ10æ¡
curl http://localhost:8000/items/?skip=0&limit=10

# æœç´¢é¡¹ç›®
curl http://localhost:8000/items/?search=æµ‹è¯•
```

### 5. ä¸Šä¼ æ–‡ä»¶

```bash
curl -X POST http://localhost:8000/upload/ \
  -F "file=@/path/to/your/file.txt"
```

### 6. ä¸‹è½½æ–‡ä»¶

```bash
curl http://localhost:8000/files/yourfile.txt -o downloaded_file.txt
```

## ğŸ” è®¤è¯æ–¹å¼

ä½¿ç”¨ Bearer Token è®¤è¯ï¼š

```bash
Authorization: Bearer YOUR_ACCESS_TOKEN
```

åœ¨ Swagger UI ä¸­ï¼š
1. ç‚¹å‡»å³ä¸Šè§’çš„ "Authorize" æŒ‰é’®
2. è¾“å…¥ `Bearer YOUR_TOKEN`
3. ç‚¹å‡» "Authorize"

## ğŸ“Š æ•°æ®åº“ç»“æ„

### users è¡¨
- `id` - ä¸»é”®
- `username` - ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰
- `email` - é‚®ç®±ï¼ˆå”¯ä¸€ï¼‰
- `password_hash` - å¯†ç å“ˆå¸Œ
- `created_at` - åˆ›å»ºæ—¶é—´

### items è¡¨
- `id` - ä¸»é”®
- `name` - é¡¹ç›®åç§°
- `description` - æè¿°
- `price` - ä»·æ ¼
- `tax` - ç¨è´¹
- `user_id` - ç”¨æˆ·IDï¼ˆå¤–é”®ï¼‰
- `created_at` - åˆ›å»ºæ—¶é—´

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **FastAPI** - Web æ¡†æ¶
- **SQLite** - æ•°æ®åº“
- **Pydantic** - æ•°æ®éªŒè¯
- **HTTPBearer** - è®¤è¯
- **CORSMiddleware** - CORS æ”¯æŒ

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¯†ç å®‰å…¨**: å½“å‰ä½¿ç”¨ SHA256 å“ˆå¸Œï¼Œç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨ bcrypt
2. **Token éªŒè¯**: å½“å‰æ˜¯ç®€åŒ–ç‰ˆï¼Œç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨ JWT
3. **CORS**: å½“å‰å…è®¸æ‰€æœ‰æ¥æºï¼Œç”Ÿäº§ç¯å¢ƒåº”é™åˆ¶å…·ä½“åŸŸå
4. **æ–‡ä»¶å¤§å°**: é™åˆ¶ 10MBï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´
5. **æ•°æ®åº“**: SQLite é€‚åˆå¼€å‘ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ PostgreSQL/MySQL

## ğŸ”„ ä¸‹ä¸€æ­¥å¯ä»¥æ·»åŠ çš„åŠŸèƒ½

- [ ] JWT Token å®Œæ•´å®ç°
- [ ] å¯†ç é‡ç½®åŠŸèƒ½
- [ ] ç”¨æˆ·è§’è‰²å’Œæƒé™
- [ ] æ•°æ®åº“è¿ç§»ï¼ˆAlembicï¼‰
- [ ] å•å…ƒæµ‹è¯•
- [ ] API é™æµ
- [ ] æ—¥å¿—è®°å½•
- [ ] WebSocket æ”¯æŒ
- [ ] ç¼“å­˜ï¼ˆRedisï¼‰
- [ ] ä»»åŠ¡é˜Ÿåˆ—ï¼ˆCeleryï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [FastAPI å®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [Pydantic æ–‡æ¡£](https://docs.pydantic.dev/)
- [SQLite æ–‡æ¡£](https://www.sqlite.org/docs.html)

